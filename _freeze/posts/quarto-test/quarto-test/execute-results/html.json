{
  "hash": "a0de9a5f429c4536028f3bc7320cb5e0",
  "result": {
    "markdown": "---\ntitle: Quarto Examples\ndescription: Exploring quarto capabilities\nreference-location: margin\ndate: '2022-06-07'\ncategories:\n  - quarto\n  - snippets\ntoc: true\n---\n\n## Placing Colorbars\n\nColorbars indicate the quantitative extent of image data.\nPlacing in a figure is non-trivial because room needs to\nbe made for them. The simplest case is just attaching a \ncolorbar to each axes:^[See the [Matplotlib Gallery](https://matplotlib.org/stable/gallery/subplots_axes_and_figures/colorbar_placement.html) to explore colorbars further].\n\n::: {.cell .column-screen-inset execution_count=1}\n``` {.python .cell-code code-fold=\"true\"}\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nfig, axs = plt.subplots(2, 2)\nfig.set_size_inches(20, 8)\ncmaps = ['RdBu_r', 'viridis']\nfor col in range(2):\n    for row in range(2):\n        ax = axs[row, col]\n        pcm = ax.pcolormesh(\n          np.random.random((20, 20)) * (col + 1),\n          cmap=cmaps[col]\n        )\n        fig.colorbar(pcm, ax=ax)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](quarto-test_files/figure-html/cell-2-output-1.png){width=1497 height=626}\n:::\n:::\n\n\n## Interactivity with maps\n\nQuarto allows interactivity with maps:\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nfrom ipyleaflet import Map, Marker, basemaps, basemap_to_tiles\nm = Map(\n  basemap=basemap_to_tiles(\n    basemaps.NASAGIBS.ModisTerraTrueColorCR, \"2017-04-08\"\n  ),\n  center=(52.204793, 360.121558),\n  zoom=4\n)\nm.add_layer(Marker(location=(52.204793, 360.121558)))\nm\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"5170def3280d4a77bbfe47b3caf34f39\",\"version_major\":2,\"version_minor\":0}\n</script>\n```\n:::\n:::\n\n\n## Content in the margins\n\nQuarto allows to put content to the margins:\n\n::: {.cell .column-margin execution_count=3}\n``` {.python .cell-code}\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 2 * np.pi * r\nfig, ax = plt.subplots(\n  subplot_kw = {'projection': 'polar'} \n)\nax.plot(theta, r)\nax.set_rticks([0.5, 1, 1.5, 2])\nax.grid(True)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![MPG vs horsepower, colored by transmission.](quarto-test_files/figure-html/fig-mtcars-output-1.png){#fig-mtcars width=442 height=432}\n:::\n:::\n\n\n## Interactive data exploring\n\nObservableJS renders interactive data plots:\n\n\n```{ojs}\n//| code-fold: true\nviewof bill_length_min = Inputs.range(\n  [32, 50], \n  {value: 35, step: 1, label: \"Bill length (min):\"}\n)\nviewof islands = Inputs.checkbox(\n  [\"Torgersen\", \"Biscoe\", \"Dream\"], \n  { value: [\"Torgersen\", \"Biscoe\"], \n    label: \"Islands:\"\n  }\n)\n```\n\n\n::: {.panel-tabset}\n\n## Plot\n\n\n```{ojs}\n//| code-fold: true\nPlot.rectY(filtered, \n  Plot.binX(\n    {y: \"count\"}, \n    {x: \"body_mass\", fill: \"species\", thresholds: 20}\n  ))\n  .plot({\n    facet: {\n      data: filtered,\n      x: \"sex\",\n      y: \"species\",\n      marginRight: 80\n    },\n    marks: [\n      Plot.frame(),\n    ]\n  }\n)\n```\n\n\n## Data\n\n\n```{ojs}\n//| code-fold: true\ndata = FileAttachment(\"palmer-penguins.csv\").csv({ typed: true })\n\nfiltered = data.filter(function(penguin) {\n  return bill_length_min < penguin.bill_length &&\n         islands.includes(penguin.island);\n})\nInputs.table(filtered)\n```\n\n\n:::\n\n",
    "supporting": [
      "quarto-test_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n<script src=\"https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js\" crossorigin=\"anonymous\"></script>\n"
      ],
      "include-after-body": [
        "<script type=application/vnd.jupyter.widget-state+json>\n{\"state\":{\"0d8be9a8f1a04b52856194865ef8417f\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletMapStyleModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletMapStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"cursor\":\"grab\"}},\"36472637edb346549a5b55f3b8068d0a\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletTileLayerModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletTileLayerModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.16.0\",\"_view_name\":\"LeafletTileLayerView\",\"attribution\":\"Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href=\\\"https://earthdata.nasa.gov\\\">ESDIS</a>) with funding provided by NASA/HQ.\",\"base\":true,\"bottom\":true,\"bounds\":null,\"detect_retina\":false,\"loading\":false,\"max_native_zoom\":18,\"max_zoom\":9,\"min_native_zoom\":0,\"min_zoom\":1,\"name\":\"NASAGIBS.ModisTerraTrueColorCR\",\"no_wrap\":false,\"opacity\":1,\"options\":[\"attribution\",\"bounds\",\"detect_retina\",\"max_native_zoom\",\"max_zoom\",\"min_native_zoom\",\"min_zoom\",\"no_wrap\",\"tile_size\",\"tms\"],\"popup\":null,\"popup_max_height\":null,\"popup_max_width\":300,\"popup_min_width\":50,\"show_loading\":false,\"tile_size\":256,\"tms\":false,\"url\":\"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/MODIS_Terra_CorrectedReflectance_TrueColor/default/2017-04-08/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpg\",\"visible\":true}},\"38dce68133034b78a22d72d72e860f0a\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"1.2.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"1.2.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"overflow_x\":null,\"overflow_y\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"43406038ec4c44ffb27f8b0a6e4bbcfe\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletMapStyleModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletMapStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"cursor\":\"move\"}},\"5170def3280d4a77bbfe47b3caf34f39\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletMapModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletMapModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.16.0\",\"_view_name\":\"LeafletMapView\",\"bottom\":0,\"bounce_at_zoom_limits\":true,\"box_zoom\":true,\"center\":[52.204793,360.121558],\"close_popup_on_click\":true,\"controls\":[\"IPY_MODEL_af661cebf52a466ba4adac39acd47749\",\"IPY_MODEL_eeb72118de6f46adb8108be725834d1b\"],\"crs\":{\"custom\":false,\"name\":\"EPSG3857\"},\"default_style\":\"IPY_MODEL_0d8be9a8f1a04b52856194865ef8417f\",\"double_click_zoom\":true,\"dragging\":true,\"dragging_style\":\"IPY_MODEL_43406038ec4c44ffb27f8b0a6e4bbcfe\",\"east\":0,\"fullscreen\":false,\"inertia\":true,\"inertia_deceleration\":3000,\"inertia_max_speed\":1500,\"interpolation\":\"bilinear\",\"keyboard\":true,\"keyboard_pan_offset\":80,\"keyboard_zoom_offset\":1,\"layers\":[\"IPY_MODEL_36472637edb346549a5b55f3b8068d0a\",\"IPY_MODEL_802f566d4b24424fa526e2a50095f662\"],\"layout\":\"IPY_MODEL_38dce68133034b78a22d72d72e860f0a\",\"left\":9007199254740991,\"max_zoom\":18,\"min_zoom\":1,\"modisdate\":\"2022-06-06\",\"north\":0,\"options\":[\"bounce_at_zoom_limits\",\"box_zoom\",\"center\",\"close_popup_on_click\",\"double_click_zoom\",\"dragging\",\"fullscreen\",\"inertia\",\"inertia_deceleration\",\"inertia_max_speed\",\"interpolation\",\"keyboard\",\"keyboard_pan_offset\",\"keyboard_zoom_offset\",\"max_zoom\",\"min_zoom\",\"prefer_canvas\",\"scroll_wheel_zoom\",\"tap\",\"tap_tolerance\",\"touch_zoom\",\"world_copy_jump\",\"zoom\",\"zoom_animation_threshold\",\"zoom_delta\",\"zoom_snap\",\"zoom_start\"],\"prefer_canvas\":false,\"right\":0,\"scroll_wheel_zoom\":false,\"south\":0,\"style\":\"IPY_MODEL_ef59478564b54079bc3ff7d7f72d5b8e\",\"tap\":true,\"tap_tolerance\":15,\"top\":9007199254740991,\"touch_zoom\":true,\"west\":0,\"window_url\":\"\",\"world_copy_jump\":false,\"zoom\":4,\"zoom_animation_threshold\":4,\"zoom_delta\":1,\"zoom_snap\":1,\"zoom_start\":12}},\"802f566d4b24424fa526e2a50095f662\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletMarkerModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletMarkerModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.16.0\",\"_view_name\":\"LeafletMarkerView\",\"alt\":\"\",\"base\":false,\"bottom\":false,\"draggable\":true,\"icon\":null,\"keyboard\":true,\"location\":[52.204793,360.121558],\"name\":\"\",\"opacity\":1,\"options\":[\"alt\",\"draggable\",\"keyboard\",\"rise_offset\",\"rise_on_hover\",\"rotation_angle\",\"rotation_origin\",\"title\",\"z_index_offset\"],\"popup\":null,\"popup_max_height\":null,\"popup_max_width\":300,\"popup_min_width\":50,\"rise_offset\":250,\"rise_on_hover\":false,\"rotation_angle\":0,\"rotation_origin\":\"\",\"title\":\"\",\"visible\":true,\"z_index_offset\":0}},\"af661cebf52a466ba4adac39acd47749\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletZoomControlModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletZoomControlModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.16.0\",\"_view_name\":\"LeafletZoomControlView\",\"options\":[\"position\",\"zoom_in_text\",\"zoom_in_title\",\"zoom_out_text\",\"zoom_out_title\"],\"position\":\"topleft\",\"zoom_in_text\":\"+\",\"zoom_in_title\":\"Zoom in\",\"zoom_out_text\":\"-\",\"zoom_out_title\":\"Zoom out\"}},\"eeb72118de6f46adb8108be725834d1b\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletAttributionControlModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletAttributionControlModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.16.0\",\"_view_name\":\"LeafletAttributionControlView\",\"options\":[\"position\",\"prefix\"],\"position\":\"bottomright\",\"prefix\":\"ipyleaflet\"}},\"ef59478564b54079bc3ff7d7f72d5b8e\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.16.0\",\"model_name\":\"LeafletMapStyleModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.16.0\",\"_model_name\":\"LeafletMapStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"1.2.0\",\"_view_name\":\"StyleView\",\"cursor\":\"grab\"}}},\"version_major\":2,\"version_minor\":0}\n</script>\n"
      ]
    }
  }
}